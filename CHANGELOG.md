## Generic Sensor API Changelog

Significant changes between the latest [Editor's Draft](https://w3c.github.io/sensors/) and the [W3C Working Draft 24 March 2016](https://www.w3.org/TR/2016/WD-generic-sensor-20160324/) [reviewed by TAG earlier](https://github.com/w3ctag/design-reviews/issues/110) are the following:

1. The [Background](https://www.w3.org/TR/2016/WD-generic-sensor-20160324/#background) section has been removed, the content from the previous Background section was merged to the description of the [default sensor](https://w3c.github.io/sensors/#concepts-default-sensor) concept.
1. The [Security and privacy considerations](https://w3c.github.io/sensors/#security-and-privacy) section has been extended with new subsections: ‘Types of privacy and security threats’, ‘Mitigation strategies’,’Mitigation strategies applied on a case by case basis‘.
1. Major changes were made in the [Concepts](https://w3c.github.io/sensors/#concepts) section to provide a better description of how the exposed interfaces should interact with the hardware sensors and their platform representations and to clarify the implementation details for user agents. Changes in the defined concepts:
    1. The [sensor](https://www.w3.org/TR/2016/WD-generic-sensor-20160324/#concept-sensor) concept is split into [device sensor](https://w3c.github.io/sensors/#concept-device-sensor) and [platform sensor](https://w3c.github.io/sensors/#concept-platform-sensor).
    1. New concepts added: [reading timestamp](https://w3c.github.io/sensors/#reading-timestamp), [default sensor](https://w3c.github.io/sensors/#default-sensor), [sampling frequency](https://w3c.github.io/sensors/#sampling-frequency), [requested sampling frequency](https://w3c.github.io/sensors/#requested-sampling-frequency), [reporting frequency](https://w3c.github.io/sensors/#reporting-frequency), [reading change threshold](https://w3c.github.io/sensors/#reading-change-threshold), [conditions to expose sensor readings](https://w3c.github.io/sensors/#concepts-can-expose-sensor-readings).
    1. Concepts dropped: [reporting modes](https://www.w3.org/TR/2016/WD-generic-sensor-20160324/#reporting-modes).
1. The [Model](https://w3c.github.io/sensors/#model) section is described in more detail and a descriptive [diagram](https://w3c.github.io/sensors/#example-6c0ab4ae) is added. Changes in the subsections:
    1. The [identifying parameters](https://www.w3.org/TR/2016/WD-generic-sensor-20160324/#identifying-parameters) definition was removed from the ‘Sensor type’ section, deferred to [Generic Sensor API Level 2](https://github.com/w3c/sensors/projects/5), since it is related to the [sensor discovery API](https://github.com/w3c/sensors/issues/7).
    1. The [Sensor](https://w3c.github.io/sensors/#model-sensor) section was rewritten to fully match the implementation.
1. Changes in the [API](https://w3c.github.io/sensors/#api) section:
    1. The [`SensorReading`](https://www.w3.org/TR/2016/WD-generic-sensor-20160324/#sensorreading) interface was merged into the [`Sensor`](https://w3c.github.io/sensors/#sensor) interface to address API ergonomics issues and GC concerns.
    1. [Sensor states](https://www.w3.org/TR/2016/WD-generic-sensor-20160324/#state) were moved to [internal slots](https://w3c.github.io/sensors/#dom-sensor-state-slot), and [`activated`](https://w3c.github.io/sensors/#dom-sensor-activated) and [`hasReading`](https://w3c.github.io/sensors/#dom-sensor-hasreading) readonly attributes were exposed instead.
    1. The [`onchange`](https://www.w3.org/TR/2016/WD-generic-sensor-20160324/#sensor-onchange) event handler was renamed to [`onreading`](https://w3c.github.io/sensors/#dom-sensor-onreading).
    1. The [`SensorReadingEvent`](https://www.w3.org/TR/2016/WD-generic-sensor-20160324/#sensorreadingevent) interface was flattened and merged into the [`Sensor`](https://w3c.github.io/sensors/#sensor) interface.
    1. The [`SensorErrorEvent`](https://w3c.github.io/sensors/#sensorerrorevent) interface now exposes error of `DOMException` type instead of `Error` type.
1. The [Abstract Operations](https://w3c.github.io/sensors/#abstract-operations) section was completely rewritten to consider implementation feedback and how sensors are exposed on the underlying layers (i.e. platform APIs).
1. [Extensibility](https://w3c.github.io/sensors/#extensibility) section was completed.